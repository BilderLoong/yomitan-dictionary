import { expect, test, describe } from 'bun:test';
import * as cheerio from 'cheerio';
import fs from 'fs';
import path from 'path';
import { parseDefinition } from '../src';


describe('parseDefinition', () => {
  test('should parse dictionary entry HTML correctly', () => {
    // Create a simple test HTML snippet
    const bugHTML = `<link rel="stylesheet" href="mwu2024.css"><script type="text/javascript" src="mwu2024.js"></script><mwu><div class="search-toolbar"> <div class="also-found-in">	<div class="tabs">	 	<a class="selected" href="bword://count">Unabridged Dictionary</a>	 	<a class="unselected" href="bword://collegiate_count">Collegiate Dictionary</a>	 	<a class="unselected" href="bword://thesaurus_count">Collegiate Thesaurus</a>	 	<a class="unselected" href="bword://medical_count">Medical Dictionary</a>	</div></div></div><mean show="0"><div class="page-content">  <div class="well content-body definition-body"><div class="wordclick" data-word-click="enabled"> <div class="left-content col-xl-12"> <div class="row entry-header"> <div class="col-12"> <h1 class="hword"> <sup>1</sup> count</h1>  <span class="fl">verb</span> <span class="prs"> <span class="first-slash">\</span><span class="pr"> ˈkau̇nt</span> <a class="play-pron hw-play-pron" data-lang="en_us" href="sound://c/count001.mp3"><span class="audio-icon"></span></a><span class="addPunct">, </span><span class="pr"> <em class="mw_t_it">dialectally</em> ˈkyau̇nt</span> <span class="last-slash">\</span> </span> </div></div> <div class="row headword-row"> <div class="col"> <span class="vg-ins"> <em>inflected form(s): </em> <span class="ix">-ed/-ing/-s</span> </span> </div> </div> <div class="section" data-id="definition"> <div class="def-wrapper"> <div class="vg">  <p class="vd firstVd"><em>transitive verb</em></p> <div class="sb has-num has-let has-subnum"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-1 a"><span class="num">1</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to indicate, name, or separate (units out of a body of units) one by one or group after group to find the total number of units involved or concerned <strong class="mw_t_bc">: </strong><a href="bword://number" class="mw_t_sx"><span class="text-uppercase">number</span></a>, <a href="bword://tally" class="mw_t_sx"><span class="text-uppercase">tally</span></a>, <a href="bword://reckon" class="mw_t_sx"><span class="text-uppercase">reckon</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> the pages of a manuscript</span></span></span><span class="uns"><span class="un"><span class="mdash">—</span><span class="unText">sometimes used with <em class="mw_t_it">up</em> or <em class="mw_t_it">over</em><span class="vis"> <span class="vi"><span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> up the money in the register</span></span></span></span></span></span></span> </span></span></div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to tell over or name the numbers in regular order up to and including (a specified number) <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> ten before answering</span></span></span></span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to include in a tallying and reckoning <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">counting</span> the hosts, there were 20 people present at the dinner party</span></span></span></span> </div> </span> <span class="sb-3"> <div class="sense has-sn"> <span class="sn sense-d"><span class="letter">d</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to compute or tally mechanically and record a total <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ a machine that <span class="mw_t_wi">counts</span> cars crossing the bridge</span></span></span> </div> </span> <span class="sb-4"> <div class="sense has-sn"> <span class="sn sense-e"><span class="letter">e</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to call aloud (beats or time units) especially in the practicing of a musical composition <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> eighth notes</span></span></span></span> </div> </span> <span class="sb-5"> <div class="pseq no-subnum"> <div class="sense has-sn has-subnum"> <span class="sn sense-f (1)"><span class="letter">f</span><span class="sub-num">(1)</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to recollect or keep track of the number of cards that have been played in (a specified suit) <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> trumps</span></span></span></span> </div> <div class="sense has-sn has-subnum"> <span class="sn sense-(2)"><span class="sub-num">(2)</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to estimate or mentally reconstruct the distribution of cards in (another player's hand)</span> </div> <div class="sense has-sn has-subnum"> <span class="sn sense-(3)"><span class="sub-num">(3)</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to count the points in (a hand of cards) <span class="dx-jump"> — compare <a href="bword://point count" class="mw_t_dxt"><span class="text-uppercase">point count</span></a></span></span> </div> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-2 a"><span class="num">2</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong><a href="bword://consider" class="mw_t_sx"><span class="text-uppercase">consider</span></a>, <a href="bword://account" class="mw_t_sx"><span class="text-uppercase">account</span></a>, <a href="bword://regard" class="mw_t_sx"><span class="text-uppercase">regard</span></a>, <a href="bword://judge" class="mw_t_sx"><span class="text-uppercase">judge</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> oneself lucky</span></span></span><span class="ex-sent-group"> <span class="ex-sent t has-aq sents sents-block">→ the true dignity of man … is <span class="mw_t_wi">counted</span> folly</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — W. E. Channing</span></span></span></span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong><a href="bword://estimate" class="mw_t_sx"><span class="text-uppercase">estimate</span></a>, <a href="bword://esteem" class="mw_t_sx"><span class="text-uppercase">esteem</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ he <span class="mw_t_wi">counted</span> it nothing that his follower had sacrificed his life</span></span></span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to record as of a particular opinion or persuasion <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> me as uncommitted</span></span></span><span class="ex-sent-group"> <span class="ex-sent t no-aq sents sents-block">→ stand and be <span class="mw_t_wi">counted</span></span></span></span> </div> </span> <span class="sb-3"> <div class="sense has-sn"> <span class="sn sense-d"><span class="letter">d</span></span> <span class="sl">dialectal </span>  <span class="dt "><strong class="mw_t_bc">: </strong><a href="bword://suppose" class="mw_t_sx"><span class="text-uppercase">suppose</span></a>, <a href="bword://guess" class="mw_t_sx"><span class="text-uppercase">guess</span></a>, <a href="bword://reckon" class="mw_t_sx"><span class="text-uppercase">reckon</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ I <span class="mw_t_wi">count</span> there's three of them coming</span></span></span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-3"><span class="num">3</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to amount to <strong class="mw_t_bc">: </strong>have a total of <span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ they <span class="mw_t_wi">counted</span> 30</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — Lord Byron</span></span></span></span></span> </div> </span> </div> </div> <div class="vg">  <p class="vd"><em>intransitive verb</em></p> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-1"><span class="num">1</span></span> <span class="sl">archaic </span>  <span class="dt "><strong class="mw_t_bc">: </strong>to think much of something <strong class="mw_t_bc">: </strong>care about something <strong class="mw_t_bc">: </strong>take account <span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ no man <span class="mw_t_wi">counts</span> of her beauty</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — Shakespeare</span></span></span></span></span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-2 a"><span class="num">2</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to recite or indicate the numbers in order <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ a little child who could not <span class="mw_t_wi">count</span></span></span><span class="ex-sent-group"> <span class="ex-sent t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> by fives</span></span></span> <strong class="mw_t_bc">: </strong>count the units in a group <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ interrupted while he was <span class="mw_t_wi">counting</span></span></span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to mark the time by counting aloud the beats in a musical composition</span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-3 a"><span class="num">3</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to rely or depend on someone or something in plans or calculations <span class="uns"><span class="un"><span class="mdash">—</span><span class="unText">used with <em class="mw_t_it">on</em> or <em class="mw_t_it">upon</em><span class="vis"> <span class="vi"><span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ the man they <span class="mw_t_wi">counted</span> on in this crisis</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — Stuart Cloete</span></span></span></span></span></span></span> <strong class="mw_t_bc">: </strong>look forward to, expect, or plan on something with assured confidence <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">count</span> on clear weather</span></span></span><span class="ex-sent-group"> <span class="ex-sent t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">counting</span> on his car to get him there on time</span></span></span></span> </span></span></div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to expect, predict, or take something into consideration <span class="uns"><span class="un"><span class="mdash">—</span><span class="unText">usually used with <em class="mw_t_it">on</em><span class="vis"> <span class="vi"><span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ they <span class="mw_t_wi">count</span> on winning</span></span></span><span class="vi"><span class="ex-sent-group"> <span class="ex-sent t no-aq sents sents-block">→ he had not <span class="mw_t_wi">counted</span> on paying and had brought no money</span></span></span></span></span></span> </span></span></div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-4"><span class="num">4</span></span> <span class="sl">English law</span>, <span class="sl">obsolete </span>  <span class="dt "><strong class="mw_t_bc">: </strong>to plead in court <strong class="mw_t_bc">: </strong>state a complaint in court</span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-5"><span class="num">5</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to add up <strong class="mw_t_bc">: </strong>amount in number <strong class="mw_t_bc">: </strong><a href="bword://total" class="mw_t_sx"><span class="text-uppercase">total</span></a> <span class="uns"><span class="un"><span class="mdash">—</span><span class="unText">sometimes used with <em class="mw_t_it">up</em><span class="vis"> <span class="vi"><span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ it <span class="mw_t_wi">counts</span> up to a sizable sum</span></span></span></span></span></span> </span></span></div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-6 a"><span class="num">6</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to have value, meaning, weight, significance, or importance <span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ landscape <span class="mw_t_wi">counts</span> in the character of a place, but people <span class="mw_t_wi">count</span> more</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — H. L. Davis</span></span></span></span> <strong class="mw_t_bc">: </strong>merit consideration <strong class="mw_t_bc">: </strong>be of consequence or account <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ these are the men who really <span class="mw_t_wi">count</span></span></span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to be of account <strong class="mw_t_bc">: </strong>have status or rank <strong class="mw_t_bc">: </strong>become classed or regarded <span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ achievements such as the TVA have <span class="mw_t_wi">counted</span> for far more … than our military power</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — M. W. Straight</span></span></span></span><span class="ex-sent-group"> <span class="ex-sent t has-aq sents sents-block">→ the things that <span class="mw_t_wi">counted</span> so much with us when we were young</span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — Louis Bromfield</span></span></span></span></span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-7"><span class="num">7</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>to make a score <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ <span class="mw_t_sp"><span class="mw_t_wi">counted</span> twice in the third inning</span></span></span></span> </div> </span> </div> </div> </div> <div class="dro"> <span id="count-coup-anchor" class="drp">count coup</span> <div class="vg">  <div class="sls"> <span class="sl">of an American Indian </span> </div>  <div class="sb no-sn"> <span class="sb-0"> <div class="sense no-subnum"> <span class="dt hasSdSense"><strong class="mw_t_bc">: </strong>to make a coup</span> <span class="sdsense"> <span class="sd">also</span> <strong class="mw_t_bc">: </strong>to relate the story of one's coups </span> </div> </span> </div> </div> <span id="count-heads-anchor" class="drp">count heads</span> <span class="vr"><span class="vl"> or </span><span id="count-noses-anchor" class="va">count noses</span></span> <div class="vg"> <div class="sb no-sn"> <span class="sb-0"> <div class="sense no-subnum"> <span class="dt "><strong class="mw_t_bc">: </strong>to count the number (as of persons) present</span> </div> </span> </div> </div> </div> <div class="def-accordion-sections"> <div class="section custom-accordion" data-id="origin"> <h2 class="toggle"><span class="text">Origin of COUNT</span><span class="toggle-icon">[+]</span></h2> <div class="section-content etymology"> <div class="sub-well"> <p><span class="et">Middle English <em class="mw_t_it">counten</em>, from Middle French <em class="mw_t_it">conter, compter</em>, from Latin <em class="mw_t_it">computare</em> to reckon, compute, from <em class="mw_t_it">com- + putare</em> to consider, think — more at <a href="bword://pave" class="mw_t_mat">pave</a></span></p> <p>First Known Use: 14th century (transitive sense 1a)</p> </div> </div></div> <div class="section custom-accordion related-to" data-id="related-to">	<h2 class="toggle"><span class="text">Related to COUNT </span><span class="toggle-icon">[+]</span></h2>	<div class="section-content">	<div class="sub-well"> <div id="synonym-discussion-anchor" class="widget syns_discussion syns-module-anchor"> <div class="syn synonym-discussion"> <p class="syn"> <strong>Synonym Discussion</strong> <a href="bword://tell" class="mw_t_sc">tell</a>, <a href="bword://enumerate" class="mw_t_sc">enumerate</a>, <a href="bword://number" class="mw_t_sc">number</a>: <a href="bword://count" class="mw_t_sc">count</a> is likely to call attention to the finding of a total without minimizing the notion of numbering units or groups in the process of attaining to that total <span class="ex-sent t has-aq sents sents-inline"> → as many as 30 bonfires could be <em class="mw_t_it">counted</em> within the whole bounds of the district </span> <span class="ex-sent aq has-aq sents"> <span class="aq"> <span class="auth"> — Thomas Hardy</span></span> </span> <a href="bword://tell" class="mw_t_sc">tell</a> now archaic in suggestion, may center attention on the fact of units being counted <span class="ex-sent t no-aq sents sents-inline"> → <span class="mw_t_sp"><em class="mw_t_it">telling</em> one's beads</span> </span> <span class="ex-sent t no-aq sents sents-inline"> → a shepherd <em class="mw_t_it">telling</em> his sheep </span> <a href="bword://enumerate" class="mw_t_sc">enumerate</a> may suggest counting up or totaling with specific and clear treatment of each item <span class="ex-sent t has-aq sents sents-inline"> → Pliny <em class="mw_t_it">enumerates</em> among the trees of Syria the date, pistachio, fig, cedar, juniper, terebinth, and sumac </span> <span class="ex-sent aq has-aq sents"> <span class="aq"> <span class="auth"> — P. K. Hitti</span></span> </span> <span class="ex-sent t has-aq sents sents-inline"> → among the <em class="mw_t_it">enumerated</em> powers, we do not find that of establishing a bank or creating a corporation </span> <span class="ex-sent aq has-aq sents"> <span class="aq"> <span class="auth"> — John Marshall</span></span> </span> <a href="bword://number" class="mw_t_sc">number</a> may suggest either limited allotting or precise ordering in sequence <span class="ex-sent t no-aq sents sents-inline"> → the days of every human being are <em class="mw_t_it">numbered</em> </span> <span class="ex-sent t no-aq sents sents-inline"> → to <em class="mw_t_it">number</em> the volumes on the shelf </span> </p><p class="see-in-addition"><strong>synonyms</strong> see in addition <a href="bword://rely" class="sa-link sc">rely</a> </p> <p></p> </div> </div> </div>	</div></div> </div> </div> </div> </div></div> </div></mean><mean show="1"><div class="page-content">  <div class="well content-body definition-body"><div class="wordclick" data-word-click="enabled"> <div class="left-content col-xl-12"> <div class="row entry-header"> <div class="col-12"> <h1 class="hword"> <sup>2</sup> count</h1>  <span class="fl">noun</span> <span class="prs"> <span class="first-slash">\</span><span class="pr"> ˈkau̇nt</span> <a class="play-pron hw-play-pron" data-lang="en_us" href="sound://c/count001.mp3"><span class="audio-icon"></span></a><span class="addPunct">, </span><span class="pr"> <em class="mw_t_it">dialectally</em> ˈkyau̇nt</span> <span class="last-slash">\</span> </span> </div></div> <div class="row headword-row"> <div class="col"> <span class="vg-ins"> <em>inflected form(s): </em> <span class="il plural"> plural </span><span class="ix">-s</span> </span> </div> </div> <div class="section" data-id="definition"> <div class="def-wrapper"> <div class="vg"> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-1"><span class="num">1</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the action or process of numbering, counting, or reckoning <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ completing the <span class="mw_t_wi">count</span> of the ballots</span></span></span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-2 a"><span class="num">2</span><span class="letter">a</span></span> <span class="sl">archaic </span>  <span class="dt hasSdSense"><strong class="mw_t_bc">: </strong>a reckoning of money, goods, or conduct <span class="ex-sent-group"> <span class="ex-sent first-child t has-aq sents sents-block">→ call to <span class="mw_t_wi">count</span></span><span class="ex-sent aq has-aq sents"><span class="aq"><span class="auth"> — Edmund Spenser</span></span></span></span> <strong class="mw_t_bc">: </strong><a href="bword://account" class="mw_t_sx"><span class="text-uppercase">account</span></a></span> <span class="sdsense"> <span class="sd">specifically</span> <strong class="mw_t_bc">: </strong>a statement of stewardship or managing </span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>formulation of a total arrived at by examination of a sample <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ a <span class="mw_t_wi">count</span> of white corpuscles</span></span></span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>population enumeration <strong class="mw_t_bc">: </strong><a href="bword://census" class="mw_t_sx"><span class="text-uppercase">census</span></a></span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-3"><span class="num">3</span></span> <span class="sl">archaic </span>  <span class="dt "><strong class="mw_t_bc">: </strong>consideration as important <strong class="mw_t_bc">: </strong><a href="bword://estimation" class="mw_t_sx"><span class="text-uppercase">estimation</span></a>, <a href="bword://regard" class="mw_t_sx"><span class="text-uppercase">regard</span></a></span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-4"><span class="num">4</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>number or sum total obtained by counting <strong class="mw_t_bc">: </strong><a href="bword://enumeration" class="mw_t_sx"><span class="text-uppercase">enumeration</span></a>, <a href="bword://tally" class="mw_t_sx"><span class="text-uppercase">tally</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ the official <span class="mw_t_wi">count</span> came to over a hundred</span></span></span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-5 a"><span class="num">5</span><span class="letter">a</span></span> <span class="dt hasSdSense"><strong class="mw_t_bc">: </strong><a href="bword://allegation" class="mw_t_sx"><span class="text-uppercase">allegation</span></a>, <a href="bword://charge" class="mw_t_sx"><span class="text-uppercase">charge</span></a></span> <span class="sdsense"> <span class="sd">specifically</span> <strong class="mw_t_bc">: </strong>a particular allegation or charge separately stating the cause of action or prosecution in a legal declaration or indictment <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ the jury found him innocent on the first <span class="mw_t_wi">count</span>, guilty on the second and third </span></span></span><span class="ex-sent-group"> <span class="ex-sent t no-aq sents sents-block">→ guilty on all <span class="mw_t_wi">counts</span> </span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the declaration in common-law pleading when the plaintiff has but one cause of action and makes but one statement of it</span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>a specific point under consideration <strong class="mw_t_bc">: </strong><a href="bword://issue" class="mw_t_sx"><span class="text-uppercase">issue</span></a> <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ disagreeing on this <span class="mw_t_wi">count</span></span></span></span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-6 a"><span class="num">6</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the calling off of the seconds from one to ten when a boxer has been knocked down <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ took a <span class="mw_t_wi">count</span> of nine before getting up</span></span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the number of balls and strikes charged to a baseball batter at one turn <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ a full <span class="mw_t_wi">count</span> of 3 and 2</span></span></span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the number of bowling pins knocked down with the first bowl of a frame that is added to a spare in the previous frame</span> </div> </span> <span class="sb-3"> <div class="sense has-sn"> <span class="sn sense-d"><span class="letter">d</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>an estimate of the number of cards in each suit that were originally dealt to or are still held by another player <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ take a <span class="mw_t_wi">count</span> on the opponents' hands</span></span></span> </div> </span> <span class="sb-4"> <div class="sense has-sn"> <span class="sn sense-e"><span class="letter">e</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>point count in bridge</span> </div> </span> <span class="sb-5"> <div class="sense has-sn"> <span class="sn sense-f"><span class="letter">f</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>a point or points scored in a game or the total points that have been scored up to any particular time <span class="ex-sent-group"> <span class="ex-sent first-child t no-aq sents sents-block">→ the <span class="mw_t_wi">count</span> now stands at 15–30</span></span></span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-7 a"><span class="num">7</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>an oyster, terrapin, or food fish of a size reckoned as standard or above a specified minimum size <span class="uns"><span class="un"><span class="mdash">—</span><span class="unText">used chiefly in selling by the number</span></span></span></span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>a stem bearing nine or more hands of bananas</span> </div> </span> <span class="sb-2"> <div class="sense has-sn"> <span class="sn sense-c"><span class="letter">c</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the number of sheets of paper or board that make up a given weight or unit</span> </div> </span> </div> <div class="sb has-num has-let"> <span class="sb-0"> <div class="sense has-sn"> <span class="sn sense-8 a"><span class="num">8</span><span class="letter">a</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>a system of measuring yarns by the number of hanks or yards per pound and indicating size or fineness</span> </div> </span> <span class="sb-1"> <div class="sense has-sn"> <span class="sn sense-b"><span class="letter">b</span></span> <span class="dt "><strong class="mw_t_bc">: </strong>the number of warp yarns and weft yarns per inch in a textile fabric <span class="dx-jump"> — compare <a href="bword://pick[5]" class="mw_t_dxt"> <sup>5</sup><span class="text-uppercase">pick</span></a> <span class="text-lowercase">2b</span></span></span> </div> </span> </div> <div class="sb has-num"> <span class="sb-0"> <div class="sense has-num-only"> <span class="sn sense-9"><span class="num">9</span></span> <span class="dt hasSdSense"><strong class="mw_t_bc">: </strong>an indication by an enumerating device of an ionizing event (as the arrival of a cosmic-ray particle) or of the total number of such events in a given period</span> <span class="sdsense"> <span class="sd">also</span> <strong class="mw_t_bc">: </strong>a single ionizing event <span class="dx-jump"> — compare <a href="bword://counting tube" class="mw_t_dxt"><span class="text-uppercase">counting tube</span></a></span> </span> </div> </span> </div> </div> </div> <div class="def-accordion-sections"> <div class="section custom-accordion" data-id="origin"> <h2 class="toggle"><span class="text">Origin of COUNT</span><span class="toggle-icon">[+]</span></h2> <div class="section-content etymology"> <div class="sub-well"> <p><span class="et">Middle English <em class="mw_t_it">counte</em>, from Middle French <em class="mw_t_it">conte, compte</em>, from Late Latin <em class="mw_t_it">computus</em> computation, from Latin <em class="mw_t_it">computare</em> to reckon, compute</span></p> <p>First Known Use: 14th century (sense 1)</p> </div> </div></div> </div> </div> </div> </div></div> </div></mean><mean show="2"><div class="page-content">  <div class="well content-body definition-body"><div class="wordclick" data-word-click="enabled"> <div class="left-content col-xl-12"> <div class="row entry-header"> <div class="col-12"> <h1 class="hword"> <sup>3</sup> count</h1>  <span class="fl">noun</span> <span class="prs"> <span class="first-slash">\</span><span class="pr"> ˈkau̇nt</span> <a class="play-pron hw-play-pron" data-lang="en_us" href="sound://c/count001.mp3"><span class="audio-icon"></span></a><span class="addPunct">, </span><span class="pr"> <em class="mw_t_it">dialectally</em> ˈkyau̇nt</span> <span class="last-slash">\</span> </span> </div></div> <div class="row headword-row"> <div class="col"> <span class="vg-ins"> <em>inflected form(s): </em> <span class="il plural"> plural </span><span class="ix">-s</span> </span> </div> </div> <div class="section" data-id="definition"> <div class="def-wrapper"> <div class="vg"> <div class="sb no-sn"> <span class="sb-0"> <div class="sense no-subnum"> <span class="dt "><strong class="mw_t_bc">: </strong>a European nobleman whose rank corresponds to that of a British earl</span> </div> </span> </div> </div> </div> <div class="def-accordion-sections"> <div class="section custom-accordion" data-id="origin"> <h2 class="toggle"><span class="text">Origin of COUNT</span><span class="toggle-icon">[+]</span></h2> <div class="section-content etymology"> <div class="sub-well"> <p><span class="et">Middle French <em class="mw_t_it">conte, comte</em>, from Late Latin <em class="mw_t_it">comit-, comes</em>, from Latin, associate, companion, one of the imperial court or train, literally, one who goes with another, from <em class="mw_t_it">com- + -it-, -es</em> (from <em class="mw_t_it">ire</em> to go) — more at <a href="bword://issue" class="mw_t_mat">issue</a></span></p> <p>First Known Use: 15th century </p> </div> </div></div> </div> </div> </div> </div></div> </div></mean></mwu>`;

    const result = parseDefinition(bugHTML);

    expect(result).toHaveLength(7);
    expect(result[0].term).toBe('bug');
    expect(result[0].definitionTags).toBe('n');
  });
}); 